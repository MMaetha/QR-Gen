{"version":3,"sources":["App.js","index.js"],"names":["App","state","imageUrl","text","qr","onChange","_ref","_ref$target","target","value","name","_this","setState","Object","defineProperty","this","updateDataByParams","updateQr","urlParams","URLSearchParams","window","location","search","get","localStorage","getItem","_this$state","setItem","history","pushState","concat","QrCodeWithLogo","toCanvas","canvas","width","content","logo","src","_this2","_this$state2","react_default","a","createElement","style","display","justifyContent","alignItems","height","background","card","maxWidth","row","col","span","padding","ref","e","flexDirection","input","placeholder","marginBottom","download","href","toDataURL","es_button","type","icon","size","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"0RA+HeA,6MAvHdC,MAAQ,CACPC,SAAU,GACVC,KAAM,MAGPC,GAAK,OAiBLC,SAAW,SAAAC,GAAgC,IAAAC,EAAAD,EAA7BE,OAAUC,EAAmBF,EAAnBE,MAAOC,EAAYH,EAAZG,KAC9BC,EAAKC,SAALC,OAAAC,EAAA,EAAAD,CAAA,GAAiBH,EAAQD,wFAfzBM,KAAKC,kEAILD,KAAKE,wDAIL,IAAMC,EAAY,IAAIC,gBAAgBC,OAAOC,SAASC,QAChDpB,EAAWgB,EAAUK,IAAI,aAAeC,aAAaC,QAAQ,aAAe,GAC5EtB,EAAOe,EAAUK,IAAI,SAAWC,aAAaC,QAAQ,SAAW,GACtEV,KAAKH,SAAS,CAAEV,WAAUC,4CAOhB,IAAAuB,EACiBX,KAAKd,MAAxBC,EADEwB,EACFxB,SAAUC,EADRuB,EACQvB,KAClBqB,aAAaG,QAAQ,WAAYzB,GACjCsB,aAAaG,QAAQ,OAAQxB,GAC7BiB,OAAOQ,QAAQC,UAAU,KAAM,GAA/B,SAAAC,OAA4C3B,EAA5C,cAAA2B,OAA6D5B,IAC7DC,GAAQ4B,IAAeC,SAAS,CAC/BC,OAAQlB,KAAKX,GACb8B,MAAO,IACPC,QAAShC,EACTiC,KAAM,CACLC,IAAKnC,sCAKG,IAAAoC,EAAAvB,KAAAwB,EACiBxB,KAAKd,MAAxBC,EADEqC,EACFrC,SAAUC,EADRoC,EACQpC,KACf,OACFqC,EAAAC,EAAAC,cAAA,OAAKC,MAAO,CACVC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZC,OAAQ,QACRb,MAAO,QACPc,WAAY,SAGbR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAMN,MAAO,CACZT,MAAO,OACPgB,SAAU,MAGVV,EAAAC,EAAAC,cAACS,EAAA,EAAD,KACCX,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAKC,KAAM,GAAIV,MAAO,CAAEC,QAAS,OAAQC,eAAgB,SAAUS,QAAS,KAC3Ed,EAAAC,EAAAC,cAAA,UACCa,IAAK,SAAAC,GAAC,OAAIlB,EAAKlC,GAAKoD,GACpBb,MAAO,CACNT,MAAO,IACPa,OAAQ,IACRC,WAAY,WAIfR,EAAAC,EAAAC,cAACU,EAAA,EAAD,CAAKC,KAAM,GACVV,MAAO,CACNW,QAAS,GACTV,QAAS,OACTC,eAAgB,SAChBY,cAAe,WAGhBjB,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CACChD,KAAK,OACLiD,YAAY,aACZhB,MAAO,CACNiB,aAAc,IAEfvD,SAAUU,KAAKV,SACfI,MAAON,IAERqC,EAAAC,EAAAC,cAACgB,EAAA,EAAD,CACChD,KAAK,WACLiD,YAAY,WACZtD,SAAUU,KAAKV,SACfI,MAAOP,EACPyC,MAAO,CACNiB,aAAc,MAGhBpB,EAAAC,EAAAC,cAAA,KACCmB,SAAS,SACTC,KAAM/C,KAAKX,IAAMW,KAAKX,GAAG2D,UAAU,cAEnCvB,EAAAC,EAAAC,cAACsB,EAAA,EAAD,CACCC,KAAK,UACLC,KAAK,WACLC,KAAK,QACLxB,MAAO,CACNT,MAAO,SALT,aAWDM,EAAAC,EAAAC,cAAA,sCAA6BF,EAAAC,EAAAC,cAAA,KAAGoB,KAAK,sCAAR,kDA/GlBM,aCHlBC,IAASC,OAAO9B,EAAAC,EAAAC,cAAC6B,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.16d0e361.chunk.js","sourcesContent":["import 'antd/dist/antd.css'\n\nimport { Button, Card, Col, Input, Row } from 'antd';\nimport React, { Component } from 'react';\n\nimport QrCodeWithLogo from 'qr-code-with-logo';\n\nclass App extends Component {\n\tstate = {\n\t\timageUrl: '',\n\t\ttext: '',\n\t}\n\n\tqr = null\n\n\tcomponentDidMount() {\n\t\tthis.updateDataByParams()\n\t}\n\n\tcomponentDidUpdate() {\n\t\tthis.updateQr()\n\t}\n\n\tupdateDataByParams() {\n\t\tconst urlParams = new URLSearchParams(window.location.search);\n\t\tconst imageUrl = urlParams.get('imageUrl') || localStorage.getItem('imageUrl') || '';\n\t\tconst text = urlParams.get('text') || localStorage.getItem('text') || '';\n\t\tthis.setState({ imageUrl, text })\n\t}\n\n\tonChange = ({ target: { value, name }}) => {\n\t\tthis.setState({ [name] : value })\n\t}\n\n\tupdateQr() {\n\t\tconst { imageUrl, text } = this.state\n\t\tlocalStorage.setItem('imageUrl', imageUrl)\n\t\tlocalStorage.setItem('text', text)\n\t\twindow.history.pushState(null, '', `?text=${text}&imageUrl=${imageUrl}`)\n\t\ttext && QrCodeWithLogo.toCanvas({\n\t\t\tcanvas: this.qr,\n\t\t\twidth: 480,\n\t\t\tcontent: text,\n\t\t\tlogo: {\n\t\t\t\tsrc: imageUrl,\n\t\t\t}\n\t\t})\n\t}\n\n  \trender() {\n\t\tconst { imageUrl, text } = this.state\n    \treturn (\n\t\t\t<div style={{\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\talignItems: 'center', \n\t\t\t\t\theight: '100vh',\n\t\t\t\t\twidth: '100vw',\n\t\t\t\t\tbackground: 'gray',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Card style={{\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tmaxWidth: 900,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col span={24} style={{ display: 'flex', justifyContent: 'center', padding: 16 }}>\n\t\t\t\t\t\t\t<canvas\n\t\t\t\t\t\t\t\tref={e => this.qr = e}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: 480,\n\t\t\t\t\t\t\t\t\theight: 480,\n\t\t\t\t\t\t\t\t\tbackground: 'gray',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col span={24}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tpadding: 16,\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tname=\"text\"\n\t\t\t\t\t\t\t\tplaceholder=\"Text / Url\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tmarginBottom: 16\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tvalue={text}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tname=\"imageUrl\"\n\t\t\t\t\t\t\t\tplaceholder=\"Logo Url\"\n\t\t\t\t\t\t\t\tonChange={this.onChange}\n\t\t\t\t\t\t\t\tvalue={imageUrl}\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tmarginBottom: 16\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tdownload=\"qr.png\"\n\t\t\t\t\t\t\t\thref={this.qr && this.qr.toDataURL('image/png')}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\t\t\t\ticon=\"download\"\n\t\t\t\t\t\t\t\t\tsize=\"large\"\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tDownload\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t<span>Powered by ReiiYuki on <a href=\"https://github.com/ReiiYuki/QR-Gen\">https://github.com/ReiiYuki/QR-Gen</a></span>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t</Card>\n\t\t\t</div>\n    \t);\n  \t}\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}